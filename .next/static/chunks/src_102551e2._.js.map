{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAM,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oGACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/ManageWorks.tsx"],"sourcesContent":["\n'use client';\n\nimport { useEffect, useState, useMemo, useTransition } from 'react';\nimport type { Building, BuildingStatus } from '@/types';\nimport { getRawBuildings, updateBuildingStatus, dismissReportAction } from '@/app/actions';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow, TableCaption } from '@/components/ui/table';\nimport { Input } from '@/components/ui/input';\nimport { useToast } from '@/hooks/use-toast';\nimport { Loader2, RefreshCw, ShieldAlert, Edit as EditIcon, Search, Eye, Trash2, Info, CalendarDays, User } from 'lucide-react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/card';\nimport { format, parseISO } from 'date-fns';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\nimport { cn } from '@/lib/utils';\n\n\nconst ALL_STATUSES_FILTER_OPTIONS: BuildingStatus[] = ['有效', '等待审核', '违规', '作弊', '无效', '审查中-被举报'];\nconst ITEMS_PER_PAGE = 10;\nconst ALL_STATUSES_SELECT_VALUE = \"__ALL_STATUSES_MW__\";\n\ninterface ManageWorksProps {\n  initialFilterStatuses?: BuildingStatus[];\n}\n\nexport default function ManageWorks({ initialFilterStatuses }: ManageWorksProps) {\n  const [allBuildings, setAllBuildings] = useState<Building[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isUpdating, startUpdateTransition] = useTransition();\n  const { toast } = useToast();\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<BuildingStatus[]>(initialFilterStatuses || []);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const fetchBuildingsData = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const data = await getRawBuildings();\n      setAllBuildings(data);\n      if (initialFilterStatuses && initialFilterStatuses.length > 0) {\n        setStatusFilter(initialFilterStatuses);\n      } else {\n        setStatusFilter([]); // Default to no filter if initialFilterStatuses is not provided\n      }\n    } catch (err) {\n      console.error('Failed to fetch buildings:', err);\n      setError('加载作品数据失败，请稍后再试。');\n      toast({ title: '错误', description: '加载作品数据失败。', variant: 'destructive' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchBuildingsData();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(initialFilterStatuses)]);\n\n  const filteredAndSearchedBuildings = useMemo(() => {\n    let filtered = [...allBuildings];\n    if (statusFilter.length > 0) {\n      filtered = filtered.filter(b => statusFilter.includes(b.status));\n    }\n    if (searchTerm) {\n      const lowerSearchTerm = searchTerm.toLowerCase();\n      filtered = filtered.filter(b =>\n        b.name.toLowerCase().includes(lowerSearchTerm) ||\n        b.author.toLowerCase().includes(lowerSearchTerm) ||\n        (b.reportReason && b.reportReason.toLowerCase().includes(lowerSearchTerm))\n      );\n    }\n    return filtered;\n  }, [allBuildings, searchTerm, statusFilter]);\n\n  const paginatedBuildings = useMemo(() => {\n    const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\n    return filteredAndSearchedBuildings.slice(startIndex, startIndex + ITEMS_PER_PAGE);\n  }, [filteredAndSearchedBuildings, currentPage]);\n\n  const totalPages = Math.ceil(filteredAndSearchedBuildings.length / ITEMS_PER_PAGE);\n\n  const handleStatusChange = (buildingId: string, newStatus: BuildingStatus) => {\n    startUpdateTransition(async () => {\n      const result = await updateBuildingStatus(buildingId, newStatus);\n      if (result.success) {\n        toast({ title: '成功', description: result.message });\n        fetchBuildingsData(); // Re-fetch to ensure data consistency, including cleared report fields\n      } else {\n        toast({ title: '更新失败', description: result.message, variant: 'destructive' });\n      }\n    });\n  };\n\n  const handleDismissReport = (buildingId: string, buildingName: string) => {\n    if (window.confirm(`确定要撤销对作品 \"${buildingName}\" 的举报吗？作品状态将恢复为“有效”。`)) {\n      startUpdateTransition(async () => {\n        const result = await dismissReportAction(buildingId);\n        if (result.success) {\n          toast({ title: '成功', description: result.message });\n          fetchBuildingsData();\n        } else {\n          toast({ title: '操作失败', description: result.message, variant: 'destructive' });\n        }\n      });\n    }\n  };\n  \n  const getStatusBadgeClass = (status: BuildingStatus) => {\n    switch (status) {\n      case '有效': return 'bg-green-500/20 text-green-400 border-green-500/30';\n      case '等待审核': return 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30';\n      case '审查中-被举报': return 'bg-orange-500/20 text-orange-400 border-orange-500/30';\n      case '违规': case '作弊': case '无效': return 'bg-red-500/20 text-red-400 border-red-500/30';\n      default: return 'bg-muted text-muted-foreground';\n    }\n  };\n\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center py-10\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n        <p className=\"ml-3 text-lg\">正在加载作品数据...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <Card className=\"my-10 bg-destructive/10 border-destructive\">\n        <CardHeader><CardTitle className=\"flex items-center text-destructive\"><ShieldAlert className=\"mr-2 h-6 w-6\" />加载错误</CardTitle></CardHeader>\n        <CardContent>\n          <p className=\"text-destructive-foreground\">{error}</p>\n          <Button onClick={fetchBuildingsData} variant=\"destructive\" className=\"mt-4\"><RefreshCw className=\"mr-2 h-4 w-4\" />重试</Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <TooltipProvider>\n      <Card className=\"mt-2 shadow-lg\">\n        <CardHeader>\n          <CardTitle className=\"text-2xl flex items-center\">\n              <EditIcon className=\"mr-3 h-6 w-6 text-primary\" />\n              {initialFilterStatuses?.includes('审查中-被举报') ? '举报与待审作品' : '管理作品状态'}\n          </CardTitle>\n          <CardDescription>{initialFilterStatuses?.includes('审查中-被举报') ? '处理被举报的作品或初步审核新提交的作品。' : '在此处查看和修改已提交建筑作品的审核状态。'}</CardDescription>\n          <div className=\"mt-4 flex flex-col sm:flex-row gap-4\">\n            <div className=\"relative flex-grow\">\n              <Search className=\"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                type=\"search\"\n                placeholder=\"搜索作品名、作者、举报原因...\"\n                value={searchTerm}\n                onChange={(e) => { setSearchTerm(e.target.value); setCurrentPage(1); }}\n                className=\"pl-8 w-full\"\n              />\n            </div>\n            {!initialFilterStatuses?.length && ( // Only show general status filter if not in a pre-filtered view like reports\n              <Select \n                value={statusFilter[0] || ALL_STATUSES_SELECT_VALUE} \n                onValueChange={(value) => { \n                  setStatusFilter(value === ALL_STATUSES_SELECT_VALUE ? [] : [value as BuildingStatus]); \n                  setCurrentPage(1); \n                }}\n              >\n                <SelectTrigger className=\"w-full sm:w-[180px]\">\n                  <SelectValue placeholder=\"筛选状态\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value={ALL_STATUSES_SELECT_VALUE}>所有状态</SelectItem>\n                  {ALL_STATUSES_FILTER_OPTIONS.map(s => <SelectItem key={s} value={s}>{s}</SelectItem>)}\n                </SelectContent>\n              </Select>\n            )}\n          </div>\n        </CardHeader>\n        <CardContent>\n          {paginatedBuildings.length === 0 ? (\n            <p className=\"text-center text-muted-foreground py-6\">\n              {filteredAndSearchedBuildings.length === 0 && (searchTerm || statusFilter.length > 0) ? '没有匹配当前筛选条件的作品。' : '暂无作品记录。'}\n            </p>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableCaption>共 {filteredAndSearchedBuildings.length} 个作品，当前显示第 {currentPage} / {totalPages} 页。</TableCaption>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead className=\"min-w-[150px]\">作品名称</TableHead>\n                    <TableHead className=\"min-w-[100px]\">作者</TableHead>\n                    <TableHead className=\"min-w-[120px]\">当前状态</TableHead>\n                    <TableHead className=\"min-w-[200px]\">举报信息</TableHead>\n                    <TableHead className=\"min-w-[220px] text-center\">操作</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {paginatedBuildings.map(building => (\n                    <TableRow key={building.id}>\n                      <TableCell className=\"font-medium\">{building.name}</TableCell>\n                      <TableCell>{building.author}</TableCell>\n                      <TableCell>\n                        <span className={cn(\"px-2 py-1 rounded-full text-xs font-semibold whitespace-nowrap\", getStatusBadgeClass(building.status))}>\n                          {building.status}\n                        </span>\n                      </TableCell>\n                      <TableCell>\n                        {building.reportReason ? (\n                           <Tooltip delayDuration={100}>\n                            <TooltipTrigger asChild>\n                              <div className=\"flex items-center gap-1 text-sm\">\n                                <Info className=\"h-4 w-4 text-orange-500 shrink-0\" /> \n                                <p className=\"truncate max-w-[150px]\">{building.reportReason}</p>\n                              </div>\n                            </TooltipTrigger>\n                            <TooltipContent side=\"top\" align=\"start\" className=\"max-w-xs bg-card border-border p-2 rounded-md shadow-lg\">\n                              <p className=\"font-semibold text-card-foreground\">举报原因:</p>\n                              <p className=\"text-xs text-muted-foreground whitespace-pre-wrap break-words\">{building.reportReason}</p>\n                              {building.lastReportedBy && <p className=\"text-xs mt-1\">举报者ID: {building.lastReportedBy}</p>}\n                              {building.lastReportDate && <p className=\"text-xs\">举报于: {format(parseISO(building.lastReportDate), \"yyyy-MM-dd HH:mm\")}</p>}\n                            </TooltipContent>\n                          </Tooltip>\n                        ) : (\n                          <span className=\"text-xs text-muted-foreground\">无</span>\n                        )}\n                      </TableCell>\n                      <TableCell className=\"text-center\">\n                        <div className=\"flex items-center justify-center space-x-1\">\n                          <Select\n                            defaultValue={building.status}\n                            onValueChange={(newStatus) => handleStatusChange(building.id, newStatus as BuildingStatus)}\n                            disabled={isUpdating}\n                          >\n                            <SelectTrigger className=\"w-[130px] h-8 text-xs\">\n                              <SelectValue placeholder=\"修改状态\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {ALL_STATUSES_FILTER_OPTIONS.map(statusValue => (\n                                <SelectItem key={statusValue} value={statusValue} className=\"text-xs\">\n                                  {statusValue}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                          {building.status === '审查中-被举报' && (\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              className=\"h-8 px-2 text-xs text-orange-500 hover:bg-orange-500/10 hover:text-orange-600\"\n                              onClick={() => handleDismissReport(building.id, building.name)}\n                              disabled={isUpdating}\n                              title=\"撤销举报并将状态设为有效\"\n                            >\n                              <Trash2 className=\"mr-1 h-3 w-3\" /> 撤销举报\n                            </Button>\n                          )}\n                          {isUpdating && paginatedBuildings.find(b => b.id === building.id)?.status !== building.status && <Loader2 className=\"h-4 w-4 animate-spin\" />}\n                        </div>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n          {totalPages > 1 && (\n            <div className=\"flex justify-center items-center space-x-2 pt-6\">\n              <Button onClick={() => setCurrentPage(p => Math.max(1, p - 1))} disabled={currentPage === 1} size=\"sm\">上一页</Button>\n              <span className=\"text-sm text-muted-foreground\">第 {currentPage} / {totalPages} 页</span>\n              <Button onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages} size=\"sm\">下一页</Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1377, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1528, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1567, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1785, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1820, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAChC,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;YAE7D,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACjC,6LAAC,yNAAA,CAAA,eAAY;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;QAEhE;QACC,GAAG,KAAK;;;;;;AAGf;KAvDS;AAwDT,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1906, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1954, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/ManageCompetitions.tsx"],"sourcesContent":["\n'use client';\n\nimport { useEffect, useState, useMemo, useTransition } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport type { Competition, CompetitionStatus } from '@/types';\nimport { getCompetitions, createCompetition, updateCompetition, deleteCompetition } from '@/app/actions';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger, DialogClose,\n} from '@/components/ui/dialog';\nimport {\n  Form, FormControl, FormField, FormItem, FormLabel, FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow, TableCaption } from '@/components/ui/table';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Calendar } from '@/components/ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { useToast } from '@/hooks/use-toast';\nimport { Loader2, Edit, Trash2, PlusCircle, CalendarIcon as LucideCalendarIcon, ShieldAlert, RefreshCw, Trophy, Search } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { format, parseISO, getYear } from 'date-fns';\n\nconst ALL_COMPETITION_STATUSES: CompetitionStatus[] = ['策划中', '进行中', '评审中', '已结束', '已归档'];\nconst ITEMS_PER_PAGE = 10;\nconst ALL_COMP_STATUSES_SELECT_VALUE = \"__ALL_COMP_STATUSES__\";\nconst ALL_YEARS_SELECT_VALUE = \"__ALL_YEARS_MC__\";\n\n\nconst competitionSchema = z.object({\n  name: z.string().min(1, { message: '比赛名称不能为空。' }),\n  year: z.coerce.number().min(2000, { message: '年份不能早于2000年。' }).max(2100, { message: '年份不能晚于2100年。' }),\n  status: z.enum(ALL_COMPETITION_STATUSES, { required_error: '请选择比赛状态。' }),\n  startDate: z.date({ required_error: '请选择开始日期。' }),\n  endDate: z.date({ required_error: '请选择结束日期。' }),\n  description: z.string().optional(),\n}).refine(data => data.endDate >= data.startDate, {\n  message: \"结束日期不能早于开始日期。\",\n  path: [\"endDate\"],\n});\n\ntype CompetitionFormValues = z.infer<typeof competitionSchema>;\n\nexport default function ManageCompetitions() {\n  const [allCompetitions, setAllCompetitions] = useState<Competition[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isSubmitting, startSubmitTransition] = useTransition();\n  const { toast } = useToast();\n\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [editingCompetition, setEditingCompetition] = useState<Competition | null>(null);\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>(ALL_COMP_STATUSES_SELECT_VALUE);\n  const [yearFilter, setYearFilter] = useState<string>(ALL_YEARS_SELECT_VALUE);\n  const [currentPage, setCurrentPage] = useState(1);\n  \n  const uniqueYears = useMemo(() => {\n    if (!allCompetitions) return [];\n    const years = new Set(allCompetitions.map(comp => comp.year));\n    return Array.from(years).sort((a, b) => b - a);\n  }, [allCompetitions]);\n\n\n  const form = useForm<CompetitionFormValues>({\n    resolver: zodResolver(competitionSchema),\n    defaultValues: {\n      name: '',\n      year: new Date().getFullYear(),\n      status: '策划中',\n      startDate: new Date(),\n      endDate: new Date(new Date().setDate(new Date().getDate() + 30)),\n      description: '',\n    },\n  });\n\n  const fetchCompetitionsData = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const data = await getCompetitions();\n      setAllCompetitions(data);\n    } catch (err) {\n      console.error('Failed to fetch competitions:', err);\n      setError('加载比赛数据失败，请稍后再试。');\n      toast({ title: '错误', description: '加载比赛数据失败。', variant: 'destructive' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchCompetitionsData();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const filteredAndSearchedCompetitions = useMemo(() => {\n    return allCompetitions\n      .filter(comp => \n        (statusFilter === ALL_COMP_STATUSES_SELECT_VALUE || comp.status === statusFilter) &&\n        (yearFilter === ALL_YEARS_SELECT_VALUE || comp.year === parseInt(yearFilter)) &&\n        (!searchTerm || comp.name.toLowerCase().includes(searchTerm.toLowerCase()))\n      );\n  }, [allCompetitions, searchTerm, statusFilter, yearFilter]);\n\n  const paginatedCompetitions = useMemo(() => {\n    const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\n    return filteredAndSearchedCompetitions.slice(startIndex, startIndex + ITEMS_PER_PAGE);\n  }, [filteredAndSearchedCompetitions, currentPage]);\n\n  const totalPages = Math.ceil(filteredAndSearchedCompetitions.length / ITEMS_PER_PAGE);\n\n  const handleDialogOpen = (competition?: Competition | null) => {\n    setEditingCompetition(competition || null);\n    if (competition) {\n      form.reset({\n        name: competition.name,\n        year: competition.year,\n        status: competition.status,\n        startDate: parseISO(competition.startDate),\n        endDate: parseISO(competition.endDate),\n        description: competition.description || '',\n      });\n    } else {\n      form.reset({\n        name: '', year: new Date().getFullYear(), status: '策划中',\n        startDate: new Date(), endDate: new Date(new Date().setDate(new Date().getDate() + 30)),\n        description: '',\n      });\n    }\n    setIsDialogOpen(true);\n  };\n  \n  const handleDialogClose = () => {\n    setIsDialogOpen(false); setEditingCompetition(null); form.reset();\n  };\n\n  const onSubmit = async (values: CompetitionFormValues) => {\n    startSubmitTransition(async () => {\n      const apiData = {\n        ...values,\n        startDate: format(values.startDate, 'yyyy-MM-dd'),\n        endDate: format(values.endDate, 'yyyy-MM-dd'),\n        year: values.year, \n      };\n\n      let result;\n      if (editingCompetition) {\n        result = await updateCompetition(editingCompetition.id, apiData);\n      } else {\n        const createData: Omit<Competition, 'id'> & { startDate: string; endDate: string; } = {\n            name: apiData.name, year: apiData.year, status: apiData.status,\n            startDate: apiData.startDate, endDate: apiData.endDate, description: apiData.description,\n        };\n        result = await createCompetition(createData);\n      }\n\n      if (result.success) {\n        toast({ title: '成功', description: result.message });\n        fetchCompetitionsData(); handleDialogClose();\n      } else {\n        toast({ title: '操作失败', description: result.message, variant: 'destructive' });\n      }\n    });\n  };\n\n  const handleDeleteCompetition = (competitionId: string, competitionName: string) => {\n    if (window.confirm(`确定要删除比赛 \"${competitionName}\" 吗？此操作无法撤销。`)) {\n      startSubmitTransition(async () => {\n        const result = await deleteCompetition(competitionId);\n        if (result.success) {\n          toast({ title: '成功', description: result.message });\n          fetchCompetitionsData();\n        } else {\n          toast({ title: '删除失败', description: result.message, variant: 'destructive' });\n        }\n      });\n    }\n  };\n\n  if (isLoading) return <div className=\"flex justify-center items-center py-10\"><Loader2 className=\"h-12 w-12 animate-spin text-primary\" /><p className=\"ml-3 text-lg\">加载中...</p></div>;\n  if (error) return <Card className=\"my-10 bg-destructive/10 border-destructive\"><CardHeader><CardTitle className=\"text-destructive flex items-center\"><ShieldAlert />错误</CardTitle></CardHeader><CardContent>{error}<Button onClick={fetchCompetitionsData} className=\"mt-2\">重试</Button></CardContent></Card>;\n\n  return (\n    <Card className=\"shadow-lg mt-2\">\n      <CardHeader className=\"sm:flex sm:flex-row sm:items-center sm:justify-between gap-2\">\n        <div>\n           <CardTitle className=\"text-2xl flex items-center\"><Trophy className=\"mr-3 h-6 w-6 text-primary\" />比赛列表</CardTitle>\n          <CardDescription>创建、编辑和管理建筑比赛项目。</CardDescription>\n        </div>\n        <Dialog open={isDialogOpen} onOpenChange={ (open) => { if (!open) handleDialogClose(); else setIsDialogOpen(true); }}>\n          <DialogTrigger asChild><Button onClick={() => handleDialogOpen(null)}><PlusCircle className=\"mr-2 h-5 w-5\" />创建新比赛</Button></DialogTrigger>\n          <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto p-6\">\n            <DialogHeader><DialogTitle>{editingCompetition ? '编辑比赛' : '创建新比赛'}</DialogTitle><DialogDescription>{editingCompetition ? '修改比赛的详细信息。' : '填写新比赛的详细信息。'}</DialogDescription></DialogHeader>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-5 mt-4\">\n                <FormField control={form.control} name=\"name\" render={({ field }) => (<FormItem><FormLabel>比赛名称</FormLabel><FormControl><Input placeholder=\"例如：2024夏季建筑大赛\" {...field} /></FormControl><FormMessage /></FormItem>)} />\n                <FormField control={form.control} name=\"year\" render={({ field }) => (<FormItem><FormLabel>年份</FormLabel><FormControl><Input type=\"number\" placeholder=\"例如：2024\" {...field} /></FormControl><FormMessage /></FormItem>)} />\n                <FormField control={form.control} name=\"status\" render={({ field }) => (<FormItem><FormLabel>状态</FormLabel><Select onValueChange={field.onChange} defaultValue={field.value}><FormControl><SelectTrigger><SelectValue placeholder=\"选择比赛状态\" /></SelectTrigger></FormControl><SelectContent>{ALL_COMPETITION_STATUSES.map(s => (<SelectItem key={s} value={s}>{s}</SelectItem>))}</SelectContent></Select><FormMessage /></FormItem>)} />\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <FormField control={form.control} name=\"startDate\" render={({ field }) => (<FormItem className=\"flex flex-col\"><FormLabel>开始日期</FormLabel><Popover><PopoverTrigger asChild><FormControl><Button variant={\"outline\"} className={cn(\"w-full justify-start text-left font-normal\",!field.value && \"text-muted-foreground\")}><LucideCalendarIcon className=\"mr-2 h-4 w-4\" />{field.value ? format(field.value, \"PPP\") : <span>选择日期</span>}</Button></FormControl></PopoverTrigger><PopoverContent className=\"w-auto p-0\" align=\"start\"><Calendar mode=\"single\" selected={field.value} onSelect={field.onChange} disabled={(date) => date < new Date(\"2000-01-01\")} initialFocus /></PopoverContent></Popover><FormMessage /></FormItem>)} />\n                  <FormField control={form.control} name=\"endDate\" render={({ field }) => (<FormItem className=\"flex flex-col\"><FormLabel>结束日期</FormLabel><Popover><PopoverTrigger asChild><FormControl><Button variant={\"outline\"} className={cn(\"w-full justify-start text-left font-normal\",!field.value && \"text-muted-foreground\")}><LucideCalendarIcon className=\"mr-2 h-4 w-4\" />{field.value ? format(field.value, \"PPP\") : <span>选择日期</span>}</Button></FormControl></PopoverTrigger><PopoverContent className=\"w-auto p-0\" align=\"start\"><Calendar mode=\"single\" selected={field.value} onSelect={field.onChange} disabled={(date) => date < (form.getValues(\"startDate\") || new Date(\"2000-01-01\"))} initialFocus /></PopoverContent></Popover><FormMessage /></FormItem>)} />\n                </div>\n                <FormField control={form.control} name=\"description\" render={({ field }) => (<FormItem><FormLabel>描述 <span className=\"text-muted-foreground text-xs\">(可选)</span></FormLabel><FormControl><Textarea placeholder=\"输入比赛的简要描述和规则...\" {...field} rows={3} /></FormControl><FormMessage /></FormItem>)} />\n                <DialogFooter className=\"pt-4\"><DialogClose asChild><Button type=\"button\" variant=\"outline\" onClick={handleDialogClose}>取消</Button></DialogClose><Button type=\"submit\" disabled={isSubmitting}>{isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}{editingCompetition ? '保存更改' : '创建比赛'}</Button></DialogFooter>\n              </form>\n            </Form>\n          </DialogContent>\n        </Dialog>\n      </CardHeader>\n      <CardContent>\n         <div className=\"my-4 flex flex-col sm:flex-row gap-4\">\n          <div className=\"relative flex-grow\">\n            <Search className=\"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input type=\"search\" placeholder=\"搜索比赛名称...\" value={searchTerm} onChange={(e) => { setSearchTerm(e.target.value); setCurrentPage(1);}} className=\"pl-8 w-full\" />\n          </div>\n          <Select \n            value={statusFilter} \n            onValueChange={(value) => { \n              setStatusFilter(value); \n              setCurrentPage(1); \n            }}\n          >\n            <SelectTrigger className=\"w-full sm:w-[180px]\"><SelectValue placeholder=\"筛选状态\" /></SelectTrigger>\n            <SelectContent>\n              <SelectItem value={ALL_COMP_STATUSES_SELECT_VALUE}>所有状态</SelectItem>\n              {ALL_COMPETITION_STATUSES.map(s => <SelectItem key={s} value={s}>{s}</SelectItem>)}\n            </SelectContent>\n          </Select>\n          {uniqueYears.length > 0 && (\n            <Select \n              value={yearFilter} \n              onValueChange={(value) => { \n                setYearFilter(value); \n                setCurrentPage(1); \n              }}\n            >\n              <SelectTrigger className=\"w-full sm:w-[120px]\"><SelectValue placeholder=\"筛选年份\" /></SelectTrigger>\n              <SelectContent>\n                <SelectItem value={ALL_YEARS_SELECT_VALUE}>所有年份</SelectItem>\n                {uniqueYears.map(y => <SelectItem key={y} value={String(y)}>{y}年</SelectItem>)}\n              </SelectContent>\n            </Select>\n          )}\n        </div>\n\n        {paginatedCompetitions.length === 0 ? (\n          <p className=\"text-center text-muted-foreground py-6\">{filteredAndSearchedCompetitions.length === 0 && (searchTerm || statusFilter !== ALL_COMP_STATUSES_SELECT_VALUE || yearFilter !== ALL_YEARS_SELECT_VALUE) ? '没有匹配当前筛选条件的比赛。' : '暂无比赛记录。'}</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <Table>\n              <TableCaption>共 {filteredAndSearchedCompetitions.length} 个比赛记录，当前显示第 {currentPage} / {totalPages} 页。</TableCaption>\n              <TableHeader>\n                <TableRow>\n                  <TableHead className=\"min-w-[200px] w-[30%]\">比赛名称</TableHead>\n                  <TableHead className=\"w-[10%]\">年份</TableHead><TableHead className=\"w-[15%]\">状态</TableHead>\n                  <TableHead className=\"w-[15%]\">开始日期</TableHead><TableHead className=\"w-[15%]\">结束日期</TableHead>\n                  <TableHead className=\"text-right w-[15%] min-w-[120px]\">操作</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {paginatedCompetitions.map(comp => (\n                  <TableRow key={comp.id}>\n                    <TableCell className=\"font-medium\">{comp.name}</TableCell><TableCell>{comp.year}</TableCell>\n                    <TableCell><span className={cn(\"px-2 py-1 rounded-full text-xs font-semibold whitespace-nowrap\", comp.status === '进行中' && 'bg-blue-500/20 text-blue-400 border-blue-500/30', comp.status === '策划中' && 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30', comp.status === '评审中' && 'bg-purple-500/20 text-purple-400 border-purple-500/30', comp.status === '已结束' && 'bg-green-500/20 text-green-400 border-green-500/30', comp.status === '已归档' && 'bg-gray-500/20 text-gray-400 border-gray-500/30')}>{comp.status}</span></TableCell>\n                    <TableCell>{format(parseISO(comp.startDate), \"yyyy-MM-dd\")}</TableCell>\n                    <TableCell>{format(parseISO(comp.endDate), \"yyyy-MM-dd\")}</TableCell>\n                    <TableCell className=\"text-right\">\n                      <Button variant=\"ghost\" size=\"icon\" onClick={() => handleDialogOpen(comp)} className=\"mr-1\" title=\"编辑\"><Edit className=\"h-4 w-4\" /></Button>\n                      <Button variant=\"ghost\" size=\"icon\" onClick={() => handleDeleteCompetition(comp.id, comp.name)} title=\"删除\"><Trash2 className=\"h-4 w-4 text-destructive\" /></Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n        )}\n        {totalPages > 1 && (\n          <div className=\"flex justify-center items-center space-x-2 pt-6\">\n            <Button onClick={() => setCurrentPage(p => Math.max(1, p - 1))} disabled={currentPage === 1} size=\"sm\">上一页</Button>\n            <span className=\"text-sm text-muted-foreground\">第 {currentPage} / {totalPages} 页</span>\n            <Button onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages} size=\"sm\">下一页</Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3281, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect, Suspense } from 'react';\nimport { useSearchParams, useRouter, usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport { KeyRound, ShieldAlert, FilePenLine, Trophy, Loader2, ArrowLeftToLine, ShieldCheck } from 'lucide-react';\nimport ManageWorks from '@/components/admin/ManageWorks';\nimport ManageCompetitions from '@/components/admin/ManageCompetitions';\nimport { fetchUserSessionForClient } from '@/app/actions';\nimport type { User } from '@/types';\nimport { cn } from '@/lib/utils';\n\ntype AdminView = 'works' | 'competitions' | 'reports';\n\ninterface AdminNavItem {\n  key: AdminView;\n  label: string;\n  icon: React.ElementType;\n}\n\nconst adminNavItems: AdminNavItem[] = [\n  { key: 'works', label: '作品管理', icon: FilePenLine },\n  { key: 'competitions', label: '比赛管理', icon: Trophy },\n  { key: 'reports', label: '举报管理', icon: ShieldCheck },\n];\n\nfunction AdminSidebar({ activeView, setActiveView }: { activeView: AdminView, setActiveView: (view: AdminView) => void }) {\n  const router = useRouter();\n\n  const handleNav = (view: AdminView) => {\n    setActiveView(view);\n    router.push(`/admin?view=${view}`, { scroll: false });\n  };\n\n  return (\n    <aside className=\"w-60 bg-card border-r border-border flex-shrink-0 flex flex-col\">\n      <div className=\"p-4 border-b border-border\">\n        <Button asChild variant=\"outline\" className=\"w-full justify-start gap-2 text-sm\">\n          <Link href=\"/\">\n            <ArrowLeftToLine className=\"h-4 w-4\" />\n            返回首页\n          </Link>\n        </Button>\n      </div>\n      <nav className=\"flex flex-col p-4 space-y-1 flex-grow\">\n        {adminNavItems.map((item) => (\n          <Button\n            key={item.key}\n            variant={activeView === item.key ? 'secondary' : 'ghost'}\n            className={cn(\n              \"w-full justify-start gap-2 text-sm\",\n              activeView === item.key ? \"bg-sidebar-primary text-sidebar-primary-foreground hover:bg-sidebar-primary/90\" : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\n            )}\n            onClick={() => handleNav(item.key)}\n          >\n            <item.icon className=\"h-4 w-4\" />\n            {item.label}\n          </Button>\n        ))}\n      </nav>\n       <div className=\"p-4 border-t border-border mt-auto\">\n        <p className=\"text-xs text-muted-foreground\">管理后台 v1.2</p>\n      </div>\n    </aside>\n  );\n}\n\nfunction AdminPageContent() {\n  const [password, setPassword] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoadingSession, setIsLoadingSession] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const pathname = usePathname();\n  const queryView = searchParams.get('view') as AdminView | null;\n  \n  const [activeView, setActiveView] = useState<AdminView>(\n    (queryView && adminNavItems.some(item => item.key === queryView)) ? queryView : 'works'\n  );\n\n  useEffect(() => {\n    const currentViewParam = searchParams.get('view') as AdminView | null;\n    if (currentViewParam && adminNavItems.some(item => item.key === currentViewParam)) {\n      if (activeView !== currentViewParam) { // Only update if different\n        setActiveView(currentViewParam);\n      }\n    } else {\n      // If no valid view param, default to 'works' and update URL\n      if (pathname === '/admin' && !queryView) {\n         router.replace('/admin?view=works', { scroll: false });\n         setActiveView('works');\n      }\n    }\n  }, [searchParams, router, activeView, pathname, queryView]);\n\n\n  useEffect(() => {\n    async function checkAuth() {\n      setIsLoadingSession(true);\n      try {\n        const sessionUser = await fetchUserSessionForClient();\n        if (sessionUser && sessionUser.type === 'staff') {\n          setIsAuthenticated(true);\n          sessionStorage.setItem('adminAuthenticated', 'true'); \n        } else {\n          // Fallback to session storage for demo if not staff logged in via main system\n          const storedAuth = sessionStorage.getItem('adminAuthenticated');\n          if (storedAuth === 'true') {\n            setIsAuthenticated(true);\n          } else {\n            setIsAuthenticated(false); // Explicitly set to false\n            sessionStorage.removeItem('adminAuthenticated'); // Clear if invalid\n          }\n        }\n      } catch (e) {\n        console.error(\"Error fetching user session for admin page:\", e);\n        const storedAuth = sessionStorage.getItem('adminAuthenticated');\n        setIsAuthenticated(storedAuth === 'true');\n      } finally {\n        setIsLoadingSession(false);\n      }\n    }\n    checkAuth();\n  }, []);\n\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (password === '123456') {\n      setIsAuthenticated(true);\n      setError(null);\n      sessionStorage.setItem('adminAuthenticated', 'true');\n    } else {\n      setError('密码错误，请重试。');\n      setPassword('');\n      sessionStorage.removeItem('adminAuthenticated');\n    }\n  };\n\n  if (isLoadingSession) {\n    return (\n      <div className=\"flex flex-1 justify-center items-center h-full p-4 bg-background\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n        <p className=\"ml-3 text-lg text-muted-foreground\">正在验证管理员身份...</p>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"flex items-center justify-center flex-1 h-full bg-background p-4\"> \n        <Card className=\"w-full max-w-md shadow-xl bg-card text-card-foreground border-border\">\n          <CardHeader className=\"text-center\">\n            <KeyRound className=\"mx-auto h-12 w-12 text-primary mb-3\" />\n            <CardTitle className=\"text-2xl font-bold\">管理后台登录</CardTitle>\n            <CardDescription>请输入密码以访问管理区域。</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <Input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"请输入密码\"\n                className=\"text-center\"\n                aria-label=\"密码\"\n              />\n              {error && (\n                <Alert variant=\"destructive\" className=\"text-sm border-destructive/50 bg-destructive/10 text-destructive [&>svg]:text-destructive\">\n                  <ShieldAlert className=\"h-4 w-4\" />\n                  <AlertTitle>登录失败</AlertTitle>\n                  <AlertDescription>{error}</AlertDescription>\n                </Alert>\n              )}\n              <Button type=\"submit\" className=\"w-full bg-primary text-primary-foreground hover:bg-primary/90\">\n                登录\n              </Button>\n            </form>\n             <Button variant=\"link\" asChild className=\"w-full mt-4 text-sm\">\n                <Link href=\"/\">返回首页</Link>\n              </Button>\n          </CardContent>\n           <CardFooter className=\"text-xs text-muted-foreground pt-6 border-t mt-2\">\n            <p className=\"text-center w-full\">\n              <strong>安全提示:</strong> 此处为演示目的使用客户端密码校验。\n            </p>\n          </CardFooter>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-row flex-1 h-full\">\n      <AdminSidebar activeView={activeView} setActiveView={setActiveView} />\n      <main className=\"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto bg-background\">\n         {activeView === 'works' && <ManageWorks initialFilterStatuses={['等待审核', '有效']} />}\n         {activeView === 'competitions' && <ManageCompetitions />}\n         {activeView === 'reports' && <ManageWorks initialFilterStatuses={['审查中-被举报']} />}\n      </main>\n    </div>\n  );\n}\n\n\nexport default function AdminPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"flex flex-1 justify-center items-center h-screen bg-background\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n      </div>\n    }>\n      <AdminPageContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}