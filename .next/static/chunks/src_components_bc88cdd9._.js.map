{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/minecraft/VoteButton.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useTransition } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { ThumbsUp, Loader2 } from 'lucide-react';\nimport { submitVote } from '@/app/actions';\nimport { useToast } from '@/hooks/use-toast';\nimport type { User, BuildingStatus } from '@/types';\n\ninterface VoteButtonProps {\n  buildingId: string;\n  currentUser: User | null;\n  initialVotes: number; \n  buildingStatus: BuildingStatus; // 新增属性\n}\n\nexport default function VoteButton({ buildingId, currentUser, initialVotes, buildingStatus }: VoteButtonProps) {\n  const [isPending, startTransition] = useTransition();\n  const { toast } = useToast();\n\n  const canVote = currentUser && buildingStatus === '有效';\n\n  const handleVote = async () => {\n    if (!currentUser) {\n      toast({\n        title: '请先登录',\n        description: '登录后才能为作品投票。',\n        variant: 'default',\n        duration: 3000,\n      });\n      return;\n    }\n\n    if (buildingStatus !== '有效') {\n      toast({\n        title: '无法投票',\n        description: `此作品当前状态为 \"${buildingStatus}\"，不能进行投票。`,\n        variant: 'destructive',\n        duration: 3000,\n      });\n      return;\n    }\n\n    startTransition(async () => {\n      const result = await submitVote(buildingId);\n      if (result.success) {\n        toast({\n          title: '投票成功！',\n          description: result.message,\n          variant: 'default',\n        });\n      } else {\n        toast({\n          title: '投票失败',\n          description: result.message,\n          variant: 'destructive',\n        });\n      }\n    });\n  };\n\n  return (\n    <Button \n      onClick={handleVote} \n      disabled={isPending || !canVote} \n      variant=\"outline\" \n      className=\"border-accent text-accent hover:bg-accent hover:text-accent-foreground disabled:opacity-60 disabled:cursor-not-allowed disabled:bg-transparent disabled:hover:text-accent disabled:hover:border-accent\"\n      aria-label={`为 ${buildingId} 投票`}\n      title={!canVote && buildingStatus !== '有效' ? `作品状态为 \"${buildingStatus}\"，无法投票` : (!currentUser ? '请登录后投票' : '为作品投票')}\n    >\n      {isPending ? (\n        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n      ) : (\n        <ThumbsUp className=\"mr-2 h-4 w-4\" />\n      )}\n      {isPending ? '投票中...' : '投票'}\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAAA;AACA;AACA;;;AANA;;;;;;AAgBe,SAAS,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,YAAY,EAAE,cAAc,EAAmB;;IAC3G,MAAM,CAAC,WAAW,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;IACjD,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IAEzB,MAAM,UAAU,eAAe,mBAAmB;IAElD,MAAM,aAAa;QACjB,IAAI,CAAC,aAAa;YAChB,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT,UAAU;YACZ;YACA;QACF;QAEA,IAAI,mBAAmB,MAAM;YAC3B,MAAM;gBACJ,OAAO;gBACP,aAAa,CAAC,UAAU,EAAE,eAAe,SAAS,CAAC;gBACnD,SAAS;gBACT,UAAU;YACZ;YACA;QACF;QAEA,gBAAgB;YACd,MAAM,SAAS,MAAM,CAAA,GAAA,wHAAA,CAAA,aAAU,AAAD,EAAE;YAChC,IAAI,OAAO,OAAO,EAAE;gBAClB,MAAM;oBACJ,OAAO;oBACP,aAAa,OAAO,OAAO;oBAC3B,SAAS;gBACX;YACF,OAAO;gBACL,MAAM;oBACJ,OAAO;oBACP,aAAa,OAAO,OAAO;oBAC3B,SAAS;gBACX;YACF;QACF;IACF;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QACL,SAAS;QACT,UAAU,aAAa,CAAC;QACxB,SAAQ;QACR,WAAU;QACV,cAAY,CAAC,EAAE,EAAE,WAAW,GAAG,CAAC;QAChC,OAAO,CAAC,WAAW,mBAAmB,OAAO,CAAC,OAAO,EAAE,eAAe,MAAM,CAAC,GAAI,CAAC,cAAc,WAAW;;YAE1G,0BACC,6LAAC,oNAAA,CAAA,UAAO;gBAAC,WAAU;;;;;qCAEnB,6LAAC,iNAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;YAErB,YAAY,WAAW;;;;;;;AAG9B;GA9DwB;;QACe,6JAAA,CAAA,gBAAa;QAChC,+HAAA,CAAA,WAAQ;;;KAFJ","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}}]
}