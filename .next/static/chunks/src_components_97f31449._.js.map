{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/minecraft/BuildingCard.tsx"],"sourcesContent":["\n'use client';\n\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport type { Building, User } from '@/types';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { CalendarDays, Users, Tag, ArrowRight, ShieldAlert } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { format } from 'date-fns';\n\ninterface BuildingCardProps {\n  building: Building;\n  currentUser: User | null; // currentUser is not used in this card's display logic directly\n}\n\nexport default function BuildingCard({ building }: BuildingCardProps) {\n  const isInteractive = building.status === '有效'; // Example, real logic might depend on competition status too\n  // const competitionStatus = \"已结束\"; // Placeholder, this should come from competition data\n  // For now, derive from building status or a fixed value for styling\n  const displayStatusBadge = building.status !== '有效' && building.status !== '等待审核';\n  const statusText = building.status === '违规' || building.status === '作弊' || building.status === '无效' ? building.status : \"已结束\";\n\n\n  return (\n    <div className={cn(\n      \"bg-card text-card-foreground rounded-lg shadow-lg overflow-hidden flex flex-col h-full group\",\n      !isInteractive && \"opacity-80\" // Slightly dim non-interactive cards\n    )}>\n      <div className=\"relative aspect-[16/9] w-full\"> {/* Adjusted aspect ratio to 16/9 */}\n        <Image\n          src={building.imageUrl.replace('800x600', '800x450').replace('600x400', '800x450')} // Ensure consistent aspect ratio\n          alt={building.name}\n          layout=\"fill\"\n          objectFit=\"cover\"\n          data-ai-hint={building.aiHint || \"minecraft architecture\"}\n          className={cn(\"transition-transform duration-300\", isInteractive && \"group-hover:scale-105\")}\n        />\n        {/* Status badge, e.g., \"已结束\" */}\n         {displayStatusBadge && (\n            <Badge variant=\"secondary\" className=\"absolute top-3 right-3 bg-muted/80 text-muted-foreground backdrop-blur-sm px-2.5 py-1 text-xs\">\n              {statusText}\n            </Badge>\n         )}\n         {!isInteractive && building.status !== '有效' && building.status !== '等待审核' && (\n            <div className=\"absolute inset-0 bg-destructive/30 backdrop-blur-sm flex flex-col items-center justify-center text-center p-2 z-10\">\n              <ShieldAlert className=\"h-8 w-8 text-destructive-foreground/80 mb-1\" />\n              <p className=\"text-sm font-semibold text-destructive-foreground\">状态: {building.status}</p>\n            </div>\n          )}\n      </div>\n\n      <div className=\"p-4 flex flex-col flex-grow\">\n        <h3 className=\"text-lg font-semibold text-foreground mb-1.5 truncate group-hover:text-primary transition-colors\">\n          {isInteractive ? (\n            <Link href={`/building/${building.id}`} className=\"focus:outline-none\">\n              <span className=\"absolute inset-0\" aria-hidden=\"true\" />\n              {building.name}\n            </Link>\n          ) : (\n            building.name\n          )}\n        </h3>\n\n        <div className=\"flex items-center text-xs text-muted-foreground mb-2\">\n          <CalendarDays className=\"h-3.5 w-3.5 mr-1.5\" />\n          {/* Date needs to come from competition or be a submission date */}\n          {building.submissionDate ? format(new Date(building.submissionDate), 'MM月dd日 HH:mm') : '日期暂无'}\n        </div>\n\n        <p className=\"text-sm text-muted-foreground mb-3 line-clamp-2 flex-grow\">\n          {building.description}\n        </p>\n\n        <div className=\"space-y-1.5 text-xs text-muted-foreground mb-4\">\n          <div className=\"flex items-center\">\n            <Users className=\"h-3.5 w-3.5 mr-1.5\" />\n            {/* Placeholder for participant count */}\n            {building.votes}/100 参与者 \n          </div>\n          <div className=\"flex items-center\">\n            <Tag className=\"h-3.5 w-3.5 mr-1.5\" />\n            活动代码: <Badge variant=\"outline\" className=\"ml-1.5 px-1.5 py-0.5 text-xs bg-muted/50 border-muted-foreground/30\">{building.eventEdition || 'N/A'}</Badge>\n          </div>\n        </div>\n        \n        {/* Placeholder for \"部分参与者\" avatars */}\n        {/* <div className=\"flex items-center -space-x-2 mb-4\">\n          <Avatar className=\"h-6 w-6 border-2 border-card\"><AvatarImage src=\"https://placehold.co/32x32.png\" /><AvatarFallback>A</AvatarFallback></Avatar>\n          <Avatar className=\"h-6 w-6 border-2 border-card\"><AvatarImage src=\"https://placehold.co/32x32.png\" /><AvatarFallback>B</AvatarFallback></Avatar>\n          <span className=\"pl-3 text-xs text-muted-foreground\">...</span>\n        </div> */}\n\n        <Button \n          asChild \n          variant=\"default\" \n          className=\"w-full mt-auto bg-primary text-primary-foreground hover:bg-primary/90\"\n          disabled={!isInteractive}\n          onClick={(e) => { if (!isInteractive) e.preventDefault(); }}\n        >\n          <Link href={isInteractive ? `/building/${building.id}` : '#'}>\n            查看活动\n            <ArrowRight className=\"ml-2 h-4 w-4\" />\n          </Link>\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AATA;;;;;;;;;AAgBe,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAClE,MAAM,gBAAgB,SAAS,MAAM,KAAK,MAAM,6DAA6D;IAC7G,0FAA0F;IAC1F,oEAAoE;IACpE,MAAM,qBAAqB,SAAS,MAAM,KAAK,QAAQ,SAAS,MAAM,KAAK;IAC3E,MAAM,aAAa,SAAS,MAAM,KAAK,QAAQ,SAAS,MAAM,KAAK,QAAQ,SAAS,MAAM,KAAK,OAAO,SAAS,MAAM,GAAG;IAGxH,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACf,gGACA,CAAC,iBAAiB,aAAa,qCAAqC;;;0BAEpE,6LAAC;gBAAI,WAAU;;oBAAgC;kCAC7C,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAK,SAAS,QAAQ,CAAC,OAAO,CAAC,WAAW,WAAW,OAAO,CAAC,WAAW;wBACxE,KAAK,SAAS,IAAI;wBAClB,QAAO;wBACP,WAAU;wBACV,gBAAc,SAAS,MAAM,IAAI;wBACjC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC,iBAAiB;;;;;;oBAGpE,oCACE,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;wBAAY,WAAU;kCAClC;;;;;;oBAGL,CAAC,iBAAiB,SAAS,MAAM,KAAK,QAAQ,SAAS,MAAM,KAAK,wBAChE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,uNAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;0CACvB,6LAAC;gCAAE,WAAU;;oCAAoD;oCAAK,SAAS,MAAM;;;;;;;;;;;;;;;;;;;0BAK7F,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACX,8BACC,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAM,CAAC,UAAU,EAAE,SAAS,EAAE,EAAE;4BAAE,WAAU;;8CAChD,6LAAC;oCAAK,WAAU;oCAAmB,eAAY;;;;;;gCAC9C,SAAS,IAAI;;;;;;mCAGhB,SAAS,IAAI;;;;;;kCAIjB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,yNAAA,CAAA,eAAY;gCAAC,WAAU;;;;;;4BAEvB,SAAS,cAAc,GAAG,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,SAAS,cAAc,GAAG,kBAAkB;;;;;;;kCAGzF,6LAAC;wBAAE,WAAU;kCACV,SAAS,WAAW;;;;;;kCAGvB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,uMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;oCAEhB,SAAS,KAAK;oCAAC;;;;;;;0CAElB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,mMAAA,CAAA,MAAG;wCAAC,WAAU;;;;;;oCAAuB;kDAChC,6LAAC,oIAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAU,WAAU;kDAAuE,SAAS,YAAY,IAAI;;;;;;;;;;;;;;;;;;kCAW7I,6LAAC,qIAAA,CAAA,SAAM;wBACL,OAAO;wBACP,SAAQ;wBACR,WAAU;wBACV,UAAU,CAAC;wBACX,SAAS,CAAC;4BAAQ,IAAI,CAAC,eAAe,EAAE,cAAc;wBAAI;kCAE1D,cAAA,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAM,gBAAgB,CAAC,UAAU,EAAE,SAAS,EAAE,EAAE,GAAG;;gCAAK;8CAE5D,6LAAC,qNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlC;KA5FwB","debugId":null}}]
}